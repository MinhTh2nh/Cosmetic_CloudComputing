{"ast":null,"code":"import { toast } from \"react-toastify\";\nconst initialState = {\n  isProductLoading: false,\n  dataProduct: [],\n  dataCart: [],\n  alert: {\n    show: false,\n    message: \"\",\n    variant: \"light\"\n  }\n};\nconst UserReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"SET_IS_PRODUCT_LOADING\":\n      return {\n        ...state,\n        isProductLoading: action.boolean\n      };\n    case \"USER_GET_DATA_PRODUCT\":\n      return {\n        ...state,\n        dataProduct: action.payload\n      };\n    case \"ADD_ITEM_TO_CART\":\n      const data = {\n        ...action.payload,\n        qtyBuy: 1\n      };\n      const dataIsSame = state.dataCart.find(item => {\n        return item._id === data._id;\n      });\n      if (!dataIsSame) {\n        toast.success(\"Item added to cart!\", {\n          position: toast.POSITION.TOP_CENTER,\n          autoClose: 3000\n        });\n        return {\n          ...state,\n          dataCart: [...state.dataCart, data]\n        };\n      } else {\n        toast.error(\"This item already in cart.\", {\n          position: toast.POSITION.TOP_CENTER,\n          autoClose: 3000\n        });\n        return state;\n      }\n    case \"INCREASE_QTY_BUY\":\n      const dataCart = state.dataCart.map(item => {\n        if (action.payload === item._id) {\n          // ++ = item.qtyBuy + 1, pkai ini krna kalau +1 ngga diterima\n          item.qtyBuy++;\n        }\n        return item;\n      });\n      return {\n        ...state,\n        // kalau namanya sama key & value boleh jadi 1\n        dataCart\n      };\n    case \"DECREASE_QTY_BUY\":\n      const dataCartDecrease = state.dataCart.map(item => {\n        if (action.payload === item._id && item.qtyBuy !== 1) {\n          item.qtyBuy--;\n        }\n        return item;\n      });\n      return {\n        ...state,\n        dataCart: dataCartDecrease\n      };\n    case \"DELETE_ITEM_FROM_CART\":\n      const filteredItem = state.dataCart.filter(item => {\n        if (item._id === action.payload._id) {\n          return false;\n        } else return true;\n      });\n      return {\n        ...state,\n        dataCart: filteredItem\n      };\n    default:\n      return state;\n  }\n};\n_c = UserReducer;\nexport default UserReducer;\nvar _c;\n$RefreshReg$(_c, \"UserReducer\");","map":{"version":3,"names":["toast","initialState","isProductLoading","dataProduct","dataCart","alert","show","message","variant","UserReducer","state","action","type","boolean","payload","data","qtyBuy","dataIsSame","find","item","_id","success","position","POSITION","TOP_CENTER","autoClose","error","map","dataCartDecrease","filteredItem","filter","_c","$RefreshReg$"],"sources":["D:/Workspace/Reactjs/Ecommerce/frontend/src/reducers/UserReducer.js"],"sourcesContent":["import { toast } from \"react-toastify\";\r\nconst initialState = {\r\n  isProductLoading: false,\r\n  dataProduct: [],\r\n  dataCart: [],\r\n  alert: {\r\n    show: false,\r\n    message: \"\",\r\n    variant: \"light\",\r\n  },\r\n};\r\nconst UserReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_IS_PRODUCT_LOADING\":\r\n      return {\r\n        ...state,\r\n        isProductLoading: action.boolean,\r\n      };\r\n\r\n    case \"USER_GET_DATA_PRODUCT\":\r\n      return {\r\n        ...state,\r\n        dataProduct: action.payload,\r\n      };\r\n\r\n    case \"ADD_ITEM_TO_CART\":\r\n      const data = {\r\n        ...action.payload,\r\n        qtyBuy: 1,\r\n      };\r\n      const dataIsSame = state.dataCart.find((item) => {\r\n        return item._id === data._id;\r\n      });\r\n\r\n      if (!dataIsSame) {\r\n        toast.success(\"Item added to cart!\", {\r\n          position: toast.POSITION.TOP_CENTER,\r\n          autoClose: 3000,\r\n        });\r\n\r\n        return {\r\n          ...state,\r\n          dataCart: [...state.dataCart, data],\r\n        };\r\n      } else {\r\n        toast.error(\"This item already in cart.\", {\r\n          position: toast.POSITION.TOP_CENTER,\r\n          autoClose: 3000,\r\n        });\r\n        return state;\r\n      }\r\n\r\n    case \"INCREASE_QTY_BUY\":\r\n      const dataCart = state.dataCart.map((item) => {\r\n        if (action.payload === item._id) {\r\n          // ++ = item.qtyBuy + 1, pkai ini krna kalau +1 ngga diterima\r\n          item.qtyBuy++;\r\n        }\r\n\r\n        return item;\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        // kalau namanya sama key & value boleh jadi 1\r\n        dataCart,\r\n      };\r\n\r\n    case \"DECREASE_QTY_BUY\":\r\n      const dataCartDecrease = state.dataCart.map((item) => {\r\n        if (action.payload === item._id && item.qtyBuy !== 1) {\r\n          item.qtyBuy--;\r\n        }\r\n\r\n        return item;\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        dataCart: dataCartDecrease,\r\n      };\r\n\r\n    case \"DELETE_ITEM_FROM_CART\":\r\n      const filteredItem = state.dataCart.filter((item) => {\r\n        if (item._id === action.payload._id) {\r\n          return false;\r\n        } else return true;\r\n      });\r\n      return {\r\n        ...state,\r\n        dataCart: filteredItem,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default UserReducer;\r\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,gBAAgB;AACtC,MAAMC,YAAY,GAAG;EACnBC,gBAAgB,EAAE,KAAK;EACvBC,WAAW,EAAE,EAAE;EACfC,QAAQ,EAAE,EAAE;EACZC,KAAK,EAAE;IACLC,IAAI,EAAE,KAAK;IACXC,OAAO,EAAE,EAAE;IACXC,OAAO,EAAE;EACX;AACF,CAAC;AACD,MAAMC,WAAW,GAAGA,CAACC,KAAK,GAAGT,YAAY,EAAEU,MAAM,KAAK;EACpD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,wBAAwB;MAC3B,OAAO;QACL,GAAGF,KAAK;QACRR,gBAAgB,EAAES,MAAM,CAACE;MAC3B,CAAC;IAEH,KAAK,uBAAuB;MAC1B,OAAO;QACL,GAAGH,KAAK;QACRP,WAAW,EAAEQ,MAAM,CAACG;MACtB,CAAC;IAEH,KAAK,kBAAkB;MACrB,MAAMC,IAAI,GAAG;QACX,GAAGJ,MAAM,CAACG,OAAO;QACjBE,MAAM,EAAE;MACV,CAAC;MACD,MAAMC,UAAU,GAAGP,KAAK,CAACN,QAAQ,CAACc,IAAI,CAAEC,IAAI,IAAK;QAC/C,OAAOA,IAAI,CAACC,GAAG,KAAKL,IAAI,CAACK,GAAG;MAC9B,CAAC,CAAC;MAEF,IAAI,CAACH,UAAU,EAAE;QACfjB,KAAK,CAACqB,OAAO,CAAC,qBAAqB,EAAE;UACnCC,QAAQ,EAAEtB,KAAK,CAACuB,QAAQ,CAACC,UAAU;UACnCC,SAAS,EAAE;QACb,CAAC,CAAC;QAEF,OAAO;UACL,GAAGf,KAAK;UACRN,QAAQ,EAAE,CAAC,GAAGM,KAAK,CAACN,QAAQ,EAAEW,IAAI;QACpC,CAAC;MACH,CAAC,MAAM;QACLf,KAAK,CAAC0B,KAAK,CAAC,4BAA4B,EAAE;UACxCJ,QAAQ,EAAEtB,KAAK,CAACuB,QAAQ,CAACC,UAAU;UACnCC,SAAS,EAAE;QACb,CAAC,CAAC;QACF,OAAOf,KAAK;MACd;IAEF,KAAK,kBAAkB;MACrB,MAAMN,QAAQ,GAAGM,KAAK,CAACN,QAAQ,CAACuB,GAAG,CAAER,IAAI,IAAK;QAC5C,IAAIR,MAAM,CAACG,OAAO,KAAKK,IAAI,CAACC,GAAG,EAAE;UAC/B;UACAD,IAAI,CAACH,MAAM,EAAE;QACf;QAEA,OAAOG,IAAI;MACb,CAAC,CAAC;MAEF,OAAO;QACL,GAAGT,KAAK;QACR;QACAN;MACF,CAAC;IAEH,KAAK,kBAAkB;MACrB,MAAMwB,gBAAgB,GAAGlB,KAAK,CAACN,QAAQ,CAACuB,GAAG,CAAER,IAAI,IAAK;QACpD,IAAIR,MAAM,CAACG,OAAO,KAAKK,IAAI,CAACC,GAAG,IAAID,IAAI,CAACH,MAAM,KAAK,CAAC,EAAE;UACpDG,IAAI,CAACH,MAAM,EAAE;QACf;QAEA,OAAOG,IAAI;MACb,CAAC,CAAC;MAEF,OAAO;QACL,GAAGT,KAAK;QACRN,QAAQ,EAAEwB;MACZ,CAAC;IAEH,KAAK,uBAAuB;MAC1B,MAAMC,YAAY,GAAGnB,KAAK,CAACN,QAAQ,CAAC0B,MAAM,CAAEX,IAAI,IAAK;QACnD,IAAIA,IAAI,CAACC,GAAG,KAAKT,MAAM,CAACG,OAAO,CAACM,GAAG,EAAE;UACnC,OAAO,KAAK;QACd,CAAC,MAAM,OAAO,IAAI;MACpB,CAAC,CAAC;MACF,OAAO;QACL,GAAGV,KAAK;QACRN,QAAQ,EAAEyB;MACZ,CAAC;IAEH;MACE,OAAOnB,KAAK;EAChB;AACF,CAAC;AAACqB,EAAA,GArFItB,WAAW;AAuFjB,eAAeA,WAAW;AAAC,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}