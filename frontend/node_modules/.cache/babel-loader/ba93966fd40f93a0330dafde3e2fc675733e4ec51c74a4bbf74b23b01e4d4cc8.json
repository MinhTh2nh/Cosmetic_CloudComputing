{"ast":null,"code":"import axios from \"axios\";\nconst url = `${process.env.REACT_APP_API_URL}`;\nconst tokenAdmin = localStorage.getItem(\"token-admin\");\n\n// FOR ADMIN USER PART\nexport const getDataUser = () => {\n  return async dispatch => {\n    try {\n      const response = await axios.get(`${url}/users/get`, {\n        headers: {\n          \"x-access-token\": tokenAdmin\n        }\n      });\n      const output = response.data;\n      dispatch({\n        type: \"GET_DATA_USER\",\n        payload: output.data\n      });\n    } catch (error) {\n      const errorOutput = error.response;\n      console.log(errorOutput);\n    }\n  };\n};\nexport const deleteUser = email => {\n  return async dispatch => {\n    try {\n      await axios.delete(`${url}/users/delete/${email}`, {\n        headers: {\n          \"x-access-token\": tokenAdmin\n        }\n      });\n      dispatch({\n        type: \"DELETE_USER\",\n        payload: email\n      });\n    } catch (error) {\n      const errorOutput = error.response;\n      console.log(errorOutput);\n    }\n  };\n};\n\n// FOR ADMIN PRODUCT PART\n\nexport const addDataProduct = (FormAddData, data) => {\n  return async dispatch => {\n    try {\n      console.log(FormAddData, \"sending to server\");\n      const response = await axios.post(`${url}/product/create`, FormAddData);\n      const output = response.data;\n      console.log(output, \"receiving from server\");\n      dispatch({\n        type: \"ADD_DATA_PRODUCT\",\n        payload: output.data\n      });\n    } catch (error) {\n      const errorOutput = error.response;\n      if (errorOutput.status === 400) {\n        dispatch({\n          type: \"ADD_PRODUCT_FAILED\",\n          payload: \"Please fill all field in the form.\"\n        });\n      }\n    }\n  };\n};\nexport const getDataProduct = () => {\n  return async dispatch => {\n    try {\n      const response = await axios.get(`${url}/product/get`);\n      const output = response.data;\n      dispatch({\n        type: \"GET_DATA_PRODUCT\",\n        payload: output.data\n      });\n    } catch (error) {\n      const errorOutput = error.response;\n      console.log(errorOutput);\n    }\n  };\n};\nexport const editDataProduct = (FormEditData, data) => {\n  return async dispatch => {\n    try {\n      const response = await axios.put(`${url}/product/editproduct/${data._id}`, FormEditData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          \"x-access-token\": tokenAdmin\n        }\n      });\n      const output = response.data;\n      dispatch({\n        type: \"EDIT_DATA_PRODUCT\",\n        // payload must be the return from backend because that's best\n        payload: output.data\n      });\n    } catch (error) {\n      const errorOutput = error.response;\n      console.log(errorOutput);\n    }\n  };\n};\nexport const deleteDataProduct = productid => {\n  return async dispatch => {\n    try {\n      // Use productid in the API request\n      await axios.delete(`${url}/product/delete/${productid}`, {\n        headers: {\n          \"x-access-token\": tokenAdmin\n        }\n      });\n      dispatch({\n        type: \"DELETE_DATA_PRODUCT\",\n        payload: {\n          productid\n        }\n      });\n    } catch (error) {\n      const errorOutput = error.response;\n      console.log(errorOutput);\n    }\n  };\n};","map":{"version":3,"names":["axios","url","process","env","REACT_APP_API_URL","tokenAdmin","localStorage","getItem","getDataUser","dispatch","response","get","headers","output","data","type","payload","error","errorOutput","console","log","deleteUser","email","delete","addDataProduct","FormAddData","post","status","getDataProduct","editDataProduct","FormEditData","put","_id","deleteDataProduct","productid"],"sources":["C:/Users/Quang/Documents/quachvinhquang/1st-semester_2023-2024/Cloud Computing/Cosmetic/Cosmetic_CloudComputing/frontend/src/actionCreators/AdminAction.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst url = `${process.env.REACT_APP_API_URL}`;\r\nconst tokenAdmin = localStorage.getItem(\"token-admin\");\r\n\r\n// FOR ADMIN USER PART\r\nexport const getDataUser = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.get(`${url}/users/get`, {\r\n        headers: { \"x-access-token\": tokenAdmin },\r\n      });\r\n      const output = response.data;\r\n\r\n      dispatch({\r\n        type: \"GET_DATA_USER\",\r\n        payload: output.data,\r\n      });\r\n    } catch (error) {\r\n      const errorOutput = error.response;\r\n      console.log(errorOutput);\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteUser = (email) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      await axios.delete(`${url}/users/delete/${email}`, {\r\n        headers: { \"x-access-token\": tokenAdmin },\r\n      });\r\n\r\n      dispatch({\r\n        type: \"DELETE_USER\",\r\n        payload: email,\r\n      });\r\n    } catch (error) {\r\n      const errorOutput = error.response;\r\n      console.log(errorOutput);\r\n    }\r\n  };\r\n};\r\n\r\n// FOR ADMIN PRODUCT PART\r\n\r\nexport const addDataProduct = (FormAddData, data) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      console.log(FormAddData , \"sending to server\")\r\n      const response = await axios.post( `${url}/product/create`, FormAddData)\r\n\r\n      const output = response.data;\r\n      console.log(output , \"receiving from server\")\r\n\r\n      dispatch({\r\n        type: \"ADD_DATA_PRODUCT\",\r\n        payload: output.data,\r\n      });\r\n    } catch (error) {\r\n      const errorOutput = error.response;\r\n      if (errorOutput.status === 400) {\r\n        dispatch({\r\n          type: \"ADD_PRODUCT_FAILED\",\r\n          payload: \"Please fill all field in the form.\",\r\n        });\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const getDataProduct = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.get(`${url}/product/get`);\r\n      const output = response.data;\r\n\r\n      dispatch({\r\n        type: \"GET_DATA_PRODUCT\",\r\n        payload: output.data,\r\n      });\r\n    } catch (error) {\r\n      const errorOutput = error.response;\r\n      console.log(errorOutput);\r\n    }\r\n  };\r\n};\r\n\r\nexport const editDataProduct = (FormEditData, data) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.put(\r\n        `${url}/product/editproduct/${data._id}`,\r\n        FormEditData,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            \"x-access-token\": tokenAdmin,\r\n          },\r\n        }\r\n      );\r\n      const output = response.data;\r\n      dispatch({\r\n        type: \"EDIT_DATA_PRODUCT\",\r\n        // payload must be the return from backend because that's best\r\n        payload: output.data,\r\n      });\r\n    } catch (error) {\r\n      const errorOutput = error.response;\r\n      console.log(errorOutput);\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteDataProduct = (productid) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      // Use productid in the API request\r\n      await axios.delete(`${url}/product/delete/${productid}`, {\r\n        headers: { \"x-access-token\": tokenAdmin },\r\n      });\r\n\r\n      dispatch({\r\n        type: \"DELETE_DATA_PRODUCT\",\r\n        payload: { productid }, \r\n      });\r\n      \r\n    } catch (error) {\r\n      const errorOutput = error.response;\r\n      console.log(errorOutput);\r\n    }\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}